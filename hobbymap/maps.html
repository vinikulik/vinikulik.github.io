<!DOCTYPE html>

<html lang="en">



<head>

  <title>Projeto Geolocalização</title>

  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css" type="text/css">

  <style>
    .map {

      height: 400px;

      width: 100%;

    }
  </style>

  <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>

</head>



<body>



  <div class="jumbotron text-center" style="margin-bottom:0">

    <h1>Projeto Geolocalização</h1>

    <p>Projeto com template examplo</p>

  </div>



  <nav class="navbar navbar-expand-sm bg-dark navbar-dark">

    <a class="navbar-brand" href="#">Navbar</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">

      <span class="navbar-toggler-icon"></span>

    </button>

    <div class="collapse navbar-collapse" id="collapsibleNavbar">

      <ul class="navbar-nav">

        <li class="nav-item">

          <a class="nav-link" href="#">Link</a>

        </li>

        <li class="nav-item">

          <a class="nav-link" href="#">Link</a>

        </li>

        <li class="nav-item">

          <a class="nav-link" href="#">Link</a>

        </li>

      </ul>

    </div>

  </nav>



  <div class="container" style="margin-top:30px">

    <div class="row">



      <div class="col-sm-12">

        <h2>Meu MAPA</h2>

        <h5>Site de Geolocalização</h5>



        <div id="map" class="map"></div>

        <br><br>

        <button type="button" id="bt1">Lozalizar USJT Mooca</button>



        <br><br>



        <button type="button" id="bt2">Busque a Minha Localização</button>




        <br>


      </div>

    </div>

  </div>



  <div class="jumbotron text-center" style="margin-bottom:0">

    <p>Footer</p>

  </div>



  <script>
    $(document).ready(function() {





      var minhaview = new ol.View({

        center: ol.proj.fromLonLat([-46.736804, -23.5247576]),

        zoom: 16

      });



      var map = new ol.Map({

        target: 'map',

        layers: [

          new ol.layer.Tile({

            source: new ol.source.OSM()

          })

        ],

        view: minhaview

      });



      $("#bt1").click(function() {

        minhaview.animate({

          center: ol.proj.fromLonLat([-46.5976273, -23.5519444]),

          duration: 6000

        });

      });



      $("#bt2").click(function() {

        getLocation();

      });




      function getLocation() {

        if (navigator.geolocation) {

          navigator.geolocation.getCurrentPosition(showPosition);

        } else {

          alert("Geolocation is not supported by this browser.");

        }

      }



      function showPosition(position) {


          minhaview.animate({

            center: ol.proj.fromLonLat([position.coords.longitude, position.coords.latitude]),

            duration: 6000

          });
      }





    });
  </script>




</body>



</html>
